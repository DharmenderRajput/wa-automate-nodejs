"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[523],{8809:(e,a,s)=>{s.r(a),s.d(a,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>c});var n=s(4848),o=s(8453);const t={title:"Get started with wa-automate via Docker",sidebar_label:"Easy API",sidebar_position:0,description:"Guide showing how to use wa-automate with Docker. This also covers how to import data as well as persistence."},r="Zero Install EASY API",i={id:"get-started/quick-run",title:"Get started with wa-automate via Docker",description:"Guide showing how to use wa-automate with Docker. This also covers how to import data as well as persistence.",source:"@site/docs/get-started/quick-run.md",sourceDirName:"get-started",slug:"/get-started/quick-run",permalink:"/docs/get-started/quick-run",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/get-started/quick-run.md",tags:[],version:"current",sidebarPosition:0,frontMatter:{title:"Get started with wa-automate via Docker",sidebar_label:"Easy API",sidebar_position:0,description:"Guide showing how to use wa-automate with Docker. This also covers how to import data as well as persistence."},sidebar:"tutorialSidebar",previous:{title:"How does this work?",permalink:"/docs/concepts/how-it-works"},next:{title:"Docker",permalink:"/docs/get-started/docker"}},l={},c=[{value:"Restarting session",id:"restarting-session",level:2},{value:"Running on a server",id:"running-on-a-server",level:2},{value:"Webhooks",id:"webhooks",level:2},{value:"API Docs",id:"api-docs",level:2},{value:"Postman collection",id:"postman-collection",level:2},{value:"Coming soon",id:"coming-soon",level:2}];function d(e){const a={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.h1,{id:"zero-install-easy-api",children:"Zero Install EASY API"}),"\n",(0,n.jsx)(a.p,{children:"Ever wanted to create an API out of your WA number? You're in luck!"}),"\n",(0,n.jsx)(a.p,{children:"Open the terminal, and enter this:"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"> npx @open-wa/wa-automate\n"})}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsxs)(a.p,{children:["P.S you have to make sure you have ",(0,n.jsx)(a.code,{children:"node"}),", ",(0,n.jsx)(a.code,{children:"npm"}),", and ",(0,n.jsx)(a.code,{children:"npx"})," installed on your system."]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"When you run the code, it will also give you a URL to an API explorer where you can play around with the various API endpoints with documentation."}),"\n",(0,n.jsx)(a.p,{children:"You can see all the help text like so:"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"> npx @open-wa/wa-automate --help\n"})}),"\n",(0,n.jsx)(a.p,{children:"You can set a custom port:"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"> npx @open-wa/wa-automate -p 8080\n"})}),"\n",(0,n.jsx)(a.p,{children:"and an api key which will prevent unauthorized requests. This will result in a key being automatically generated for you:"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"> npx @open-wa/wa-automate -p 8080 -k\n"})}),"\n",(0,n.jsxs)(a.p,{children:["or you can set your own, I got the following secure key from ",(0,n.jsx)(a.a,{href:"https://randomkeygen.com/",children:"https://randomkeygen.com/"}),":"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"> npx @open-wa/wa-automate -p 8080 -k 'K6MEQJRV3trXMPZ5eQd1Jl8NaaaRZxqy'\n"})}),"\n",(0,n.jsxs)(a.p,{children:["You can easily force the program to maintain focus (",(0,n.jsx)(a.code,{children:"--keep-alive"})," or ",(0,n.jsx)(a.code,{children:"-a"}),"):"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"> npx @open-wa/wa-automate -p 8080 -k 'K6MEQJRV3trXMPZ5eQd1Jl8NaaaRZxqy' --keep-alive\n\n//or\n\n> npx @open-wa/wa-automate -p 8080 -k 'K6MEQJRV3trXMPZ5eQd1Jl8NaaaRZxqy' --keep-alive\n"})}),"\n",(0,n.jsx)(a.h2,{id:"restarting-session",children:"Restarting session"}),"\n",(0,n.jsxs)(a.p,{children:["As of version 2.0.0 of this library, you can now provide session data as a base64 string. This is the default method goin forward and your ",(0,n.jsx)(a.code,{children:".data.json"})," files should have this string if you've run the program in version 2.0.0+."]}),"\n",(0,n.jsxs)(a.p,{children:["There are 3 param tags that can be used to set session data ",(0,n.jsx)(a.code,{children:"-s"}),", ",(0,n.jsx)(a.code,{children:"--session"})," or ",(0,n.jsx)(a.code,{children:"--session-data"})," - all work but make sure you wrap the string with double quotes ",(0,n.jsx)(a.code,{children:'"'})," and NOT sinle quotes ",(0,n.jsx)(a.code,{children:"'"}),"."]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"> npx @open-wa/wa-automate -p 8080 -k 'K6MEQJRV3trXMPZ5eQd1Jl8NaaaRZxqy' --session-data \"eyJXQUJyb...ifQ==\"\n//or\n> npx @open-wa/wa-automate -p 8080 -k 'K6MEQJRV3trXMPZ5eQd1Jl8NaaaRZxqy' --session \"eyJXQUJyb...ifQ==\"\n//or\n> npx @open-wa/wa-automate -p 8080 -k 'K6MEQJRV3trXMPZ5eQd1Jl8NaaaRZxqy' -s \"eyJXQUJyb...ifQ==\"\n"})}),"\n",(0,n.jsx)(a.h2,{id:"running-on-a-server",children:"Running on a server"}),"\n",(0,n.jsx)(a.p,{children:"If you're not running this on your localhost, you'll need to set the server hostname for the api-docs to work correctly."}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"> npx @open-wa/wa-automate -p 8080 --api-host 'https://my-wa-api.dev:8080'\n"})}),"\n",(0,n.jsx)(a.h2,{id:"webhooks",children:"Webhooks"}),"\n",(0,n.jsxs)(a.p,{children:["You can also set a webhook address to send all requests to. I like using ",(0,n.jsx)(a.a,{href:"https://webhook.site/",children:"webhook.site"})," to check and test events."]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"> npx @open-wa/wa-automate -w 'https://webhook.site/7a00ac21-60f2-411e-a571-515b37b2025a'\n"})}),"\n",(0,n.jsx)(a.p,{children:"Now if you go to:"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-http",children:"https://webhook.site/#!/7a00ac21-60f2-411e-a571-515b37b2025a\n"})}),"\n",(0,n.jsx)(a.p,{children:"you'll be able to see all the events come through."}),"\n",(0,n.jsx)(a.p,{children:"If you do use this link please make sure to clear all of your requests for your privacy."}),"\n",(0,n.jsx)(a.h2,{id:"api-docs",children:"API Docs"}),"\n",(0,n.jsxs)(a.p,{children:["By default, the CLI generates and serves a swagger api explorer at ",(0,n.jsx)(a.code,{children:"[host]/api-docs/"})]}),"\n",(0,n.jsx)(a.p,{children:"For example:"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"> npx @open-wa/wa-automate -w 'https://webhook.site/7a00ac21-60f2-411e-a571-515b37b2025a' -p 8008\n"})}),"\n",(0,n.jsx)(a.p,{children:"will server the api docs at"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-http",children:"http://localhost:8008/api-docs/\n"})}),"\n",(0,n.jsx)(a.h2,{id:"postman-collection",children:"Postman collection"}),"\n",(0,n.jsx)(a.p,{children:"The CLI will also automatically generate a postman collection for your specific set up (including api keys, hostname, ports, etc.) which you can then easily import into postman."}),"\n",(0,n.jsx)(a.h2,{id:"coming-soon",children:"Coming soon"}),"\n",(0,n.jsxs)(a.p,{children:["Soon SDKs for most programming lanugages will be created using the CLI as a base 'server'. Check this issue for updates: ",(0,n.jsx)(a.a,{href:"https://github.com/open-wa/wa-automate-nodejs/issues/894",children:"#894"})]})]})}function h(e={}){const{wrapper:a}={...(0,o.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8453:(e,a,s)=>{s.d(a,{R:()=>r,x:()=>i});var n=s(6540);const o={},t=n.createContext(o);function r(e){const a=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function i(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),n.createElement(t.Provider,{value:a},e.children)}}}]);